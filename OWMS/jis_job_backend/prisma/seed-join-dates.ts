import { PrismaClient } from '@prisma/client';

const prisma = new PrismaClient();

const joinDates: Record<string, string> = {
    'ê¹€ê·¼í˜¸': '1998-09-10',
    'ìœ ì •ë‘': '1998-10-19',
    'ë°±ë¯¸ê²½': '2003-10-29',
    'ê¹€ìŠ¹ì›': '2005-02-17',
    'ë°•ìƒìš°': '2005-10-01',
    'ê°•ëª…ì² ': '2009-11-09',
    'ì´ê²½ìœ¤': '2010-05-03',
    'ê¹€ê·¼ìˆ˜': '2010-12-06',
    'íƒëª…ì„ ': '2010-12-13',
    'ê¹€ìž¬ì´': '2011-01-01',
    'í•œì˜ì‹': '2011-04-25',
    'ìž„ìƒíƒ': '2011-09-05',
    'ê¹€íƒœìš°': '2011-10-24',
    'ì´ìš©ìš°': '2012-04-02',
    'ë°•ê²½ì›': '2012-05-08',
    'ì´ìŠ¹ê¸°': '2012-07-18',
    'ì´í˜¸ì¤€': '2013-11-04',
    'ì´ìƒì—´': '2014-03-03',
    'ë°•ì§„ë ¬': '2014-06-17',
    'ë¯¼ê²½íƒœ': '2014-08-19',
    'ì‹¬ì„±í¬': '2017-03-27',
    'ê°•ì •ê·œ': '2017-06-07',
    'ê¹€ì›ê·œ': '2018-04-23',
    'ì•ˆë‘í˜„': '2018-06-27',
    'ì‹ ë™í˜„': '2019-02-18',
    'ê¹€ìƒë¯¼': '2019-03-14',
    'ì¡°í›ˆê¸°': '2019-03-18',
    'ê¹€ë¶€ì„±': '2019-04-01',
    'ì´ê²½ì§„': '2019-08-19',
    'ë°•ìŠ¹ì£¼': '2019-10-14',
    'ê¹€ê´‘í˜¸': '2019-11-01',
    'ìµœìœ ì§„': '2019-12-16',
    'ë‚˜ì •í˜¸': '2020-01-02',
    'ê¹€íƒœìˆ˜': '2020-08-18',
    'ì´ìŠ¹í•œ': '2020-12-14',
    'ì‹ ë™ì§„': '2021-05-03',
    'ìœ ëŒ€ê· ': '2021-05-24',
    'ë¬¸ê¸°ìš´': '2021-06-14',
    'ì´ìŠ¹ì¤€': '2021-07-01',
    'ë¯¼ì§€ì„±': '2021-07-01',
    'í•¨ì„±ë¯¼': '2021-07-01',
    'ì´ì§€ì˜': '2021-07-22', // User said 'ì´ì§€ì€', but previous was 'ì´ì§€í›ˆ'. Assuming 'ì´ì§€ì€' is correct based on list. Wait, list says 'ì´ì§€ì€' at index 43.
    'ì´ì§€ì€': '2021-07-22',
    'ì´ë™ê·œ': '2021-10-01',
    'ì •êµ¬ì—´': '2021-10-05',
    'ë°•ì™„ì¤€': '2021-10-11',
    'ê¹€ì„±ë²”': '2021-10-25',
    'ì†¡ì§€ì™„': '2021-11-01',
    'ë¬¸ì§€ë¯¼': '2021-11-01',
    'ì´ê²½ìˆ˜': '2021-11-15',
    'ì„œìœ í™˜': '2022-01-03',
    'ì´ìƒê¸¸': '2022-01-24',
    'ì´ìž¬ì–¸': '2022-01-17',
    'ê¹€ë™ìˆ˜': '2022-03-28',
    'ì „ì˜ì§„': '2022-04-27',
    'í•¨ë¯¼ì² ': '2022-05-02',
    'ìž„ê²½ìž¬': '2022-06-02',
    'ì–‘ì£¼í¬': '2022-07-04',
    'ë‚˜ë¯¸ì• ': '2022-07-11',
    'ë…¸ê²½ì€': '2022-08-16',
    'ì¡°ë¯¼í˜„': '2022-08-22',
    'ì¡°í•­ì—°': '2022-09-01',
    'ë°•ê²½ë¯¼': '2022-10-04',
    'ì‹¬ìž¬ë¯¼': '2022-10-01',
    'ë¥˜ì£¼í˜•': '2022-10-11',
    'ì „ì¼ì›': '2022-12-01',
    'ì „ìƒí¬': '2022-12-05',
    'ì™•ì˜ë¯¼': '2023-01-02',
    'ê¹€ë‚™ì˜': '2023-01-09',
    'ì´ìƒì§„': '2023-02-01',
    'ìµœì§„ì˜': '2023-03-13',
    'ìœ¤ë‚¨í˜¸': '2023-04-11'
};

async function main() {
    console.log('ðŸŒ± Start seeding join dates...');

    // Process each name
    for (const [name, dateStr] of Object.entries(joinDates)) {
        // Find user by name
        // Since name is not unique, we should be careful, but for this dataset we assume names are unique enough or we update all matches
        const users = await prisma.user.findMany({
            where: { name: name }
        });

        if (users.length === 0) {
            console.warn(`âš ï¸ User not found: ${name}`);
            continue;
        }

        const joinDate = new Date(dateStr);

        for (const user of users) {
            await prisma.user.update({
                where: { id: user.id },
                data: { joinDate: joinDate }
            });
            console.log(`âœ… Updated ${name} (${user.userId}): ${dateStr}`);
        }
    }

    console.log('ðŸŽ‰ Join date seeding completed!');
}

main()
    .catch((e) => {
        console.error('âŒ Seeding failed:', e);
        process.exit(1);
    })
    .finally(async () => {
        await prisma.$disconnect();
    });
